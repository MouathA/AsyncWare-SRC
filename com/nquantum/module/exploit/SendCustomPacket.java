package com.nquantum.module.exploit;

import com.nquantum.util.time.*;
import com.nquantum.module.*;
import io.netty.buffer.*;
import com.nquantum.event.impl.*;
import net.minecraft.network.play.client.*;
import net.minecraft.network.*;
import com.nquantum.util.*;
import com.nquantum.event.*;

public class SendCustomPacket extends Module
{
    public Timer timer;
    public String channel;
    public PacketBuffer buffer;
    
    public SendCustomPacket() {
        super("Send Custom Packet", 0, Category.EXPLOIT);
        this.buffer = new PacketBuffer(Unpooled.buffer()).writeString("ASYNC|WARE");
        this.channel = "ASYNC|WARE";
    }
    
    @Punjabi
    @Override
    public void onUpdate(final EventUpdate eventUpdate) {
        if (this.timer.hasTimeElapsed(5000L, true)) {
            this.mc.thePlayer.sendQueue.addToSendQueue(new C17PacketCustomPayload(this.channel, this.buffer));
            ChatUtil.sendMessage("sent");
        }
    }
    
    @Override
    public void onEnable() {
        this.timer = new Timer();
        this.mc.thePlayer.sendQueue.addToSendQueue(new C17PacketCustomPayload(this.channel, this.buffer));
    }
    
    @Override
    public void onDisable() {
        this.mc.thePlayer.sendQueue.addToSendQueue(new C17PacketCustomPayload(this.channel, this.buffer));
    }
}
