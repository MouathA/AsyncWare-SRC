package com.nquantum.module.exploit;

import com.nquantum.event.*;
import com.nquantum.module.*;
import net.minecraft.network.handshake.client.*;
import com.nquantum.util.*;
import net.minecraft.network.*;
import net.minecraft.network.play.client.*;
import com.nquantum.event.impl.*;

public class ForceOp extends Module
{
    @Punjabi
    public void onSendPacket(final EventSendPacket eventSendPacket) {
        if (eventSendPacket.getPacket() instanceof C00PacketKeepAlive) {
            eventSendPacket.setCancelled(true);
        }
    }
    
    @Override
    public void onDisable() {
        super.onDisable();
    }
    
    public ForceOp() {
        super("ForceOp", 0, Category.EXPLOIT);
    }
    
    @Override
    public void onEnable() {
        super.onEnable();
        if (this.mc.thePlayer != null) {
            PacketUtil.sendPacket(new C00Handshake());
            PacketUtil.sendPacket(new C0FPacketConfirmTransaction());
        }
    }
    
    @Punjabi
    public void onEvent(final EventUpdate eventUpdate) {
        if (this.mc.thePlayer != null) {
            PacketUtil.sendPacket(new C00Handshake());
            PacketUtil.sendPacket(new C0FPacketConfirmTransaction());
        }
    }
}
